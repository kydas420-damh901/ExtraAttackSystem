ã‚²ãƒ¼ãƒ å†…ã®ãƒãƒ‹ãƒ©ã®æ­¦å™¨ç¨®åˆ†é¡ ã¨ ãƒ¡ãƒ¢
Axe         ç‰‡æ‰‹
Clubs       ç‰‡æ‰‹
Swords      ç‰‡æ‰‹
Spears      ç‰‡æ‰‹    å·¦æ‰‹è£…å‚™ã§ããªã„
Polearms    ä¸¡æ‰‹ 
knifes      ç‰‡æ‰‹
Fists       ä¸¡æ‰‹    ãƒãƒ‹ãƒ©ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã¯Unarmed ã¨å…±é€š
BattleAxes  ä¸¡æ‰‹ 
GreatSwords ä¸¡æ‰‹
Unarmed     ä¸¡æ‰‹    ãƒãƒ‹ãƒ©ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã¯Fistã¨å…±é€š
Dual Axes   ä¸¡æ‰‹
Dual Knifes ä¸¡æ‰‹
Sledges     ä¸¡æ‰‹    ãƒãƒ‹ãƒ©ã¯é€šå¸¸æ”»æ’ƒã—ã‹ãªã„ãŒqtgå‰²ã‚Šå½“ã¦ã‚‹
Torch       ç‰‡æ‰‹

Shileds     ç‰‡æ‰‹    å·¦æ‰‹ã« shiled ã ã‘
Axes + Shileds
Swords + Shileds
Clubs + Shileds
Torch + Sword or Axe or Club or Spear or Knife
Torch + Unarmed

Bows        ä¸¡æ‰‹
Cross Bows  ä¸¡æ‰‹
staff       ä¸¡æ‰‹


ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å‰²å½“æš«å®šç‰ˆ
Axe             
Clubs       
Swords      
Spears          å·¦æ‰‹è£…å‚™ã§ããªã„
Polearms     
knifes      
Fists           ãƒãƒ‹ãƒ©ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã¯Unarmed ã¨å…±é€š
BattleAxes   
GreatSwords 
Unarmed         ãƒãƒ‹ãƒ©ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã¯Fistã¨å…±é€š
Dual Axes   
Dual Knifes 
Sledges         ãƒãƒ‹ãƒ©ã¯é€šå¸¸æ”»æ’ƒã—ã‹ãªã„ãŒqtgå‰²ã‚Šå½“ã¦ã‚‹
Torch       

Shileds + unarmed     
Axes + Shileds
Swords + Shileds
Clubs + Shileds

Torch + Sword or Axe or Club or Spear or Knife
Torch + Unarmed

Bows
CrossBows
staff 



ã‚­ãƒ¼ï¼ˆå¤‰æ›´å¯èƒ½ï¼šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯Q T Gï¼‰æŠ¼ä¸‹ã§ ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®æ”»æ’ƒãŒã§ãã‚‹
åˆ¤å®šãƒ»ãƒ€ãƒ¡ãƒ¼ã‚¸ãƒ»ã‚¹ã‚¿ãƒŸãƒŠæ¶ˆè²» éŸ³ã®æœ‰ç„¡ã€VFXã®æœ‰ç„¡ ã‚’ yaml ã§è¨­å®šå¯èƒ½ â€»å°†æ¥çš„ã«ã¯sound VFX ã‚’å·®ã—æ›¿ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã€‚ç¾åœ¨ã¯æœªå®Ÿè£…

ãƒ»æœ¬MODã§ç”¨æ„ã™ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ assetbundle å†…ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
æ­¦å™¨ç¨®é¡åˆ¥ã«ACã‚’ç”¨æ„ã™ã‚‹
animation timing ãªã©ã¯ã‚³ãƒ¼ãƒ‰å†…ã§è¨­å®š
animation clip ã‚‚ã™ã¹ã¦æŒ‡å®š


ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚‚è¿½åŠ ã§ãã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
æœ¬MODã§ç”¨æ„ã—ãŸ æ­¦å™¨ç¨®é¡åˆ¥ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚yamlãƒ•ã‚¡ã‚¤ãƒ«(ä¾‹ï¼šBaseAnimation.yaml)ã§ç½®ãæ›ãˆã¨è¨­å®šå¯èƒ½
å€‹åˆ¥æ­¦å™¨ã”ã¨ã«ACã‚’ç”¨æ„ã™ã‚‹
yamlãƒ•ã‚¡ã‚¤ãƒ«ã§ animation timingã€åˆ¤å®šã‚„ãƒ€ãƒ¡ãƒ¼ã‚¸ãªã©è¨­å®šå¯èƒ½
animation clip ã¯æŒ‡å®šãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã‚Œã¦ã€yamlãƒ•ã‚¡ã‚¤ãƒ«ã§è¨­å®šã™ã‚‹ã“ã¨ã§ç½®ãæ›ãˆå¯èƒ½

AC Category
Axe             
Clubs       
Swords      
Spears          å·¦æ‰‹è£…å‚™ã§ããªã„
Polearms     
knifes      
Fists           ãƒãƒ‹ãƒ©ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã¯Unarmed ã¨å…±é€š
BattleAxes   
GreatSwords 
Unarmed         ãƒãƒ‹ãƒ©ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ã¯Fistã¨å…±é€š
Dual Axes   
Dual Knifes 
Sledges         ãƒãƒ‹ãƒ©ã¯é€šå¸¸æ”»æ’ƒã—ã‹ãªã„ãŒqtgå‰²ã‚Šå½“ã¦ã‚‹
Torch       

Shileds + unarmed     
Axes + Shileds
Swords + Shileds
Clubs + Shileds

Torch + Sword or Axe or Club or Spear or Knife

Ã— ç½®ãæ›ãˆ Animation Clip æŒ‡å®š è£…å‚™ã—ã¦ã„ã‚‹æ­¦å™¨ã®ãƒˆãƒªã‚¬ãƒ¼ã¨ã‚¯ãƒªãƒƒãƒ—ãŒã‚ã£ã¦ã„ãªã„ã¨å†ç”Ÿã•ã‚Œãªã„
- Unarmed/Fists unarmed_kick
- Knives:       Knife JumpAttack
- BattleAxes    BattleAxeAltAttack
- Spears:       throw_spear
- Swords:       Sword-Attack-R4
- Axes:         Axe Secondary Attack
- GreatSwords   Greatsword Secondary Attack
- Polearms      Atgeir360Attack
ä»–ã®æ­¦å™¨ç¨®ã€å€‹åˆ¥æ­¦å™¨ã‚‚ä¸Šè¨˜ãƒ«ãƒ¼ãƒ«ã«åˆã‚ã›ã¦æŒ‡å®š 
â€»ç¾åœ¨ã¯ã€QTGã™ã¹ã¦è£…å‚™ã—ã¦ã„ã‚‹æ­¦å™¨ã®ã‚»ã‚«ãƒ³ãƒ€ãƒªæ”»æ’ƒã‚’è¨­å®š

ãƒˆãƒªã‚¬ãƒ¼å
axe_secondary
sword_secondary
mace_secondary
atgeir_secondary
battleaxe_secondary
knife_secondary
dual_knives_secondary
greatsword_secondary
dualaxes_secondary



1. æ ¹æœ¬çš„ãªå•é¡Œ
YAMLãƒ•ã‚¡ã‚¤ãƒ«ã¯æ­£å¸¸ã«èª­ã¿è¾¼ã¾ã‚Œã¦ã„ãŸãŒã€ConvertDirectMappingsToAocTypesã§config.AocTypes.Count: 0ã¨ãªã£ã¦ã„ãŸ
ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¯å®Ÿéš›ã«ã¯å‹•ä½œã—ã¦ã„ãŸãŒã€YAMLè¨­å®šå€¤ãŒåæ˜ ã•ã‚Œã¦ã„ãªã„çŠ¶æ…‹
2. å…·ä½“çš„ãªå•é¡Œç‚¹
3. ãƒ­ã‚°ã‹ã‚‰åˆ¤æ˜ã—ãŸäº‹å®Ÿ
èµ·å‹•æ™‚: ReplacementMapã«ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹
YAMLä¿å­˜: SaveWeaponTypesConfigã§æ­£å¸¸ã«æ›¸ãè¾¼ã¿
YAMLèª­ã¿è¾¼ã¿: ãƒ•ã‚¡ã‚¤ãƒ«ã¯å­˜åœ¨ã—ã€å†…å®¹ã‚‚èª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹
ãƒ‡ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚º: config.Axes.Count: 0 ã§ç©ºã«ãªã£ã¦ã„ã‚‹
ğŸ› ï¸ ä¿®æ­£å†…å®¹
1. ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã®è¿½åŠ 

// AnimationReplacementConfig.cs ã«è¿½åŠ 
ExtraAttackPlugin.LogInfo("System", $"LoadWeaponTypesConfig: ConfigFolderPath: {ConfigFolderPath}");
ExtraAttackPlugin.LogInfo("System", $"LoadWeaponTypesConfig: WeaponTypesConfigFilePath: {WeaponTypesConfigFilePath}");
ExtraAttackPlugin.LogInfo("System", $"LoadWeaponTypesConfig: File exists: {File.Exists(WeaponTypesConfigFilePath)}");
ExtraAttackPlugin.LogInfo("System", $"LoadWeaponTypesConfig: YAML content length: {yaml.Length}");
ExtraAttackPlugin.LogInfo("System", $"LoadWeaponTypesConfig: YAML contains 'AocTypes:': {yaml.Contains("AocTypes:")}");
ExtraAttackPlugin.LogInfo("System", $"LoadWeaponTypesConfig: After deserialization:");
ExtraAttackPlugin.LogInfo("System", $"  - config.AocTypes is null: {weaponTypesConfig.AocTypes == null}");
ExtraAttackPlugin.LogInfo("System", $"  - config.AocTypes.Count: {weaponTypesConfig.AocTypes?.Count ?? -1}");
ExtraAttackPlugin.LogInfo("System", $"  - config.Axes is null: {weaponTypesConfig.Axes == null}");
ExtraAttackPlugin.LogInfo("System", $"  - config.Axes.Count: {weaponTypesConfig.Axes?.Count ?? -1}");

// çµ±ä¸€å‰: ea_secondary_Q, ea_secondary_T, ea_secondary_G
// çµ±ä¸€å¾Œ: secondary_Q, secondary_T, secondary_G




## è§£æ±ºç­–: Prefix ã§ m_attackStamina ã‚’å¤‰æ›´
ã‚¹ã‚­ãƒ«ãƒœãƒ¼ãƒŠã‚¹ã‚’æ´»ã‹ã™ã«ã¯ã€Prefix ã§åŸºæº–å€¤ã‚’å¤‰æ›´ã—ã¦ãƒãƒ‹ãƒ©è¨ˆç®—ã‚’ç¶šè¡Œ:
csharp[HarmonyPatch(typeof(Attack), "GetAttackStamina")]
public static class Attack_GetAttackStamina_Prefix
{
    public static void Prefix(Attack __instance, Humanoid ___m_character)
    {
        if (___m_character is Player player && ExtraAttackUtils.IsPlayerInExtraAttack(player))
        {
            // YAMLã‹ã‚‰åŸºæº–ã‚¹ã‚¿ãƒŸãƒŠå€¤ã‚’å–å¾—
            float yamlBaseStamina = GetYAMLBaseStaminaCost(...);
            
            // m_attackStaminaã‚’ä¸Šæ›¸ã
            __instance.m_attackStamina = yamlBaseStamina;
            
            // ãƒãƒ‹ãƒ©ã®è¨ˆç®—ç¶šè¡Œ:
            // - è£…å‚™è£œæ­£
            // - SEManè£œæ­£
            // - ã‚¹ã‚­ãƒ«è£œæ­£ (-33%)
            // - HPè£œæ­£
        }
    }
}

è¨ˆç®—ä¾‹
YAMLè¨­å®š: StaminaCost: 60ï¼ˆåŸºæº–å€¤ï¼‰
ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«è¨ˆç®—æœ€çµ‚ã‚³ã‚¹ãƒˆ060 Ã— 1.0 Ã— (1 - 0.33Ã—0.0)605060 Ã— 1.0 Ã— (1 - 0.33Ã—0.5)50.110060 Ã— 1.0 Ã— (1 - 0.33Ã—1.0)40.2
ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«ãŒé«˜ã„ã»ã©ã‚¹ã‚¿ãƒŸãƒŠæ¶ˆè²»ãŒæ¸›ã‚‹ = ãƒãƒ‹ãƒ©ã¨åŒã˜ä»•æ§˜